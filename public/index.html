<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Upload Your Photos üì∏</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main>
    <h1>Share Your Moments!</h1>
    <p>Select or drag & drop your favourite photos below.</p>

    <form id="uploadForm">
      <input id="fileInput" type="file" name="photo" accept="image/*" hidden />
      <label for="fileInput" id="dropZone">Tap or Drop Images Here</label>
      <button type="submit">Upload</button>
    </form>

    <div id="status"></div>
  </main>

  <script>
    const form = document.getElementById("uploadForm");
    const status = document.getElementById("status");
    const zone = document.getElementById("dropZone");

    zone.addEventListener("dragover", e => {{ e.preventDefault(); zone.classList.add("hover"); }});
    zone.addEventListener("dragleave", () => zone.classList.remove("hover"));
    zone.addEventListener("drop", e => {{
      e.preventDefault();
      document.getElementById("fileInput").files = e.dataTransfer.files;
      zone.classList.remove("hover");
    }});

    form.addEventListener("submit", async e => {{
      e.preventDefault();
      const file = document.getElementById("fileInput").files[0];
      if (!file) return alert("Please choose a photo first!");
      const data = new FormData();
      data.append("photo", file);
      status.textContent = "Uploading...";
      try {{
        const res = await fetch("/upload", {{ method: "POST", body: data }});
        if (res.ok) {{
          status.textContent = "‚úÖ Uploaded! Thanks.";
          form.reset();
        }} else {{
          const msg = await res.json();
          throw new Error(msg.error || "Upload failed");
        }}
      }} catch (err) {{
        status.textContent = "‚ùå " + err.message;
      }}
    }});
  </script>
</body>
</html>
